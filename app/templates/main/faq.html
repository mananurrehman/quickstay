<!-- app/templates/main/faq.html -->

{% extends 'base.html' %}

{% block title %}FAQ{% endblock %}

{% block content %}

    <!-- ==================== HERO SECTION ==================== -->
    <section class="relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-brand/5 via-transparent to-blue-500/5 dark:from-brand-light/5 dark:to-blue-400/5"></div>
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-20">
            <div class="text-center max-w-3xl mx-auto">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-brand/10 dark:bg-brand-light/10 text-brand dark:text-brand-light mb-4">
                    Help Center
                </span>
                <h1 class="text-4xl sm:text-5xl font-bold text-content-primary dark:text-content-dark-primary leading-tight mb-6">
                    Frequently Asked
                    <span class="bg-logo-gradient bg-clip-text text-transparent">Questions</span>
                </h1>
                <p class="text-lg text-content-secondary dark:text-content-dark-secondary leading-relaxed">
                    Find quick answers to common questions about bookings, payments, facilities, and more.
                </p>
            </div>
        </div>
    </section>

    <!-- ==================== FAQ CATEGORIES ==================== -->
    <section class="py-8 bg-bg-surface dark:bg-bg-dark-surface">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap items-center justify-center gap-3" id="faq-categories">
                <button data-category="all"
                        class="faq-cat-btn active px-4 py-2 rounded-lg text-sm font-medium bg-brand dark:bg-brand-light text-white transition-all duration-200">
                    All
                </button>
                <button data-category="booking"
                        class="faq-cat-btn px-4 py-2 rounded-lg text-sm font-medium bg-bg-main dark:bg-bg-dark-main text-content-secondary dark:text-content-dark-secondary border border-line dark:border-line-dark hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-200">
                    Booking
                </button>
                <button data-category="payment"
                        class="faq-cat-btn px-4 py-2 rounded-lg text-sm font-medium bg-bg-main dark:bg-bg-dark-main text-content-secondary dark:text-content-dark-secondary border border-line dark:border-line-dark hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-200">
                    Payment
                </button>
                <button data-category="facilities"
                        class="faq-cat-btn px-4 py-2 rounded-lg text-sm font-medium bg-bg-main dark:bg-bg-dark-main text-content-secondary dark:text-content-dark-secondary border border-line dark:border-line-dark hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-200">
                    Facilities
                </button>
                <button data-category="general"
                        class="faq-cat-btn px-4 py-2 rounded-lg text-sm font-medium bg-bg-main dark:bg-bg-dark-main text-content-secondary dark:text-content-dark-secondary border border-line dark:border-line-dark hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-200">
                    General
                </button>
            </div>
        </div>
    </section>

    <!-- ==================== FAQ ACCORDION ==================== -->
    <section class="py-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-4" id="faq-list">

            <!-- ===== BOOKING QUESTIONS ===== -->

            <!-- Q1 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="booking">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-brand/10 dark:bg-brand-light/10 text-brand dark:text-brand-light">
                            Booking
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            How do I book a room?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Simply browse our available rooms, select your preferred dates and room type, and click "Book Now". You'll need to create an account or log in to complete your booking. Once confirmed, you'll receive a booking confirmation via email.
                    </p>
                </div>
            </div>

            <!-- Q2 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="booking">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-brand/10 dark:bg-brand-light/10 text-brand dark:text-brand-light">
                            Booking
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            Can I cancel my booking?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Yes, you can cancel your booking from your account dashboard under "My Bookings". Please note that cancellations must be made before the check-in date. You'll receive a cancellation confirmation via email.
                    </p>
                </div>
            </div>

            <!-- Q3 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="booking">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-brand/10 dark:bg-brand-light/10 text-brand dark:text-brand-light">
                            Booking
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            What is the minimum stay requirement?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        The minimum stay is 1 night. Your check-out date must be at least one day after your check-in date.
                    </p>
                </div>
            </div>

            <!-- ===== PAYMENT QUESTIONS ===== -->

            <!-- Q4 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="payment">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-emerald-500/10 dark:bg-emerald-400/10 text-emerald-600 dark:text-emerald-400">
                            Payment
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            How is the total price calculated?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        The total price is calculated by multiplying the per-night rate by the number of nights you're staying. The price is displayed in real-time as you select your dates, so there are no surprises.
                    </p>
                </div>
            </div>

            <!-- Q5 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="payment">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-emerald-500/10 dark:bg-emerald-400/10 text-emerald-600 dark:text-emerald-400">
                            Payment
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            Are there any hidden fees?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        No, we believe in complete transparency. The price you see on the room page is the price you pay. There are no hidden charges or surprise fees at checkout.
                    </p>
                </div>
            </div>

            <!-- ===== FACILITIES QUESTIONS ===== -->

            <!-- Q6 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="facilities">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-500/10 dark:bg-purple-400/10 text-purple-600 dark:text-purple-400">
                            Facilities
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            What amenities are included?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Amenities vary by room type. Common amenities include free WiFi, air conditioning, TV, and daily housekeeping. Premium rooms may include mini bar, room service, spa access, and more. Check the room details page for specific amenities.
                    </p>
                </div>
            </div>

            <!-- Q7 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="facilities">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-500/10 dark:bg-purple-400/10 text-purple-600 dark:text-purple-400">
                            Facilities
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            What is the maximum number of guests per room?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Each room has a maximum guest capacity listed on its details page. Standard rooms typically accommodate 2 guests, Deluxe rooms 3 guests, and Family rooms up to 5 guests.
                    </p>
                </div>
            </div>

            <!-- ===== GENERAL QUESTIONS ===== -->

            <!-- Q8 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="general">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-500/10 dark:bg-amber-400/10 text-amber-600 dark:text-amber-400">
                            General
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            How do I create an account?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Click the "Register" button in the navigation bar. Fill in your details including name, email, phone number, and password. Your password must be at least 8 characters with uppercase, lowercase, and a number.
                    </p>
                </div>
            </div>

            <!-- Q9 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="general">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-500/10 dark:bg-amber-400/10 text-amber-600 dark:text-amber-400">
                            General
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            I forgot my password. What should I do?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Click "Forgot Password" on the login page. Enter your registered email address and we'll send you a 6-digit OTP code. Use this code to verify your identity and set a new password. The OTP is valid for 10 minutes.
                    </p>
                </div>
            </div>

            <!-- Q10 -->
            <div class="faq-item bg-bg-surface dark:bg-bg-dark-surface border border-line dark:border-line-dark rounded-xl overflow-hidden hover:border-brand/20 dark:hover:border-brand-light/20 transition-all duration-300" data-category="general">
                <button class="faq-toggle w-full flex items-center justify-between p-5 text-left">
                    <div class="flex items-center space-x-3">
                        <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-500/10 dark:bg-amber-400/10 text-amber-600 dark:text-amber-400">
                            General
                        </span>
                        <h3 class="text-sm sm:text-base font-medium text-content-primary dark:text-content-dark-primary">
                            Is my personal information secure?
                        </h3>
                    </div>
                    <i data-lucide="chevron-down" class="w-5 h-5 text-content-secondary dark:text-content-dark-secondary flex-shrink-0 faq-icon transition-transform duration-300"></i>
                </button>
                <div class="faq-answer hidden px-5 pb-5">
                    <p class="text-sm text-content-secondary dark:text-content-dark-secondary leading-relaxed pl-0 sm:pl-[72px]">
                        Absolutely. We take security seriously. Your passwords are encrypted, we protect against SQL injection and CSRF attacks, and sessions automatically timeout after 30 minutes of inactivity. Read our Privacy Policy for more details.
                    </p>
                </div>
            </div>

        </div>
    </section>

    <!-- ==================== STILL HAVE QUESTIONS ==================== -->
    <section class="py-16 bg-bg-surface dark:bg-bg-dark-surface">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="relative bg-gradient-to-r from-brand to-blue-400 dark:from-brand-light dark:to-blue-300 rounded-2xl p-8 sm:p-12 overflow-hidden">
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-white rounded-full transform translate-x-1/2 -translate-y-1/2"></div>
                    <div class="absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full transform -translate-x-1/2 translate-y-1/2"></div>
                </div>
                <div class="relative text-center space-y-6">
                    <div class="w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mx-auto">
                        <i data-lucide="message-circle" class="w-8 h-8 text-white"></i>
                    </div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-white">Still Have Questions?</h2>
                    <p class="text-white/80 max-w-lg mx-auto">
                        Can't find what you're looking for? Our support team is always ready to help.
                    </p>
                    <a href="{{ url_for('main.contact') }}"
                       class="inline-flex items-center space-x-2 px-8 py-3 bg-white text-brand font-semibold rounded-lg hover:bg-gray-100 transition-all duration-200">
                        <i data-lucide="mail" class="w-4 h-4"></i>
                        <span>Contact Us</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block scripts %}
<script>
    // ===== FAQ Accordion =====
    (function() {
        try {
            const toggles = document.querySelectorAll('.faq-toggle');

            toggles.forEach(function(toggle) {
                toggle.addEventListener('click', function() {
                    try {
                        const item = this.closest('.faq-item');
                        const answer = item.querySelector('.faq-answer');
                        const icon = item.querySelector('.faq-icon');
                        const isOpen = !answer.classList.contains('hidden');

                        // Close all others
                        document.querySelectorAll('.faq-item').forEach(function(otherItem) {
                            if (otherItem !== item) {
                                otherItem.querySelector('.faq-answer').classList.add('hidden');
                                otherItem.querySelector('.faq-icon').classList.remove('rotate-180');
                                otherItem.classList.remove('border-brand/30', 'dark:border-brand-light/30');
                            }
                        });

                        // Toggle current
                        if (isOpen) {
                            answer.classList.add('hidden');
                            icon.classList.remove('rotate-180');
                            item.classList.remove('border-brand/30', 'dark:border-brand-light/30');
                        } else {
                            answer.classList.remove('hidden');
                            icon.classList.add('rotate-180');
                            item.classList.add('border-brand/30', 'dark:border-brand-light/30');
                        }
                    } catch (error) {
                        console.error('FAQ toggle error:', error);
                    }
                });
            });
        } catch (error) {
            console.error('FAQ accordion error:', error);
        }
    })();

    // ===== FAQ Category Filter =====
    (function() {
        try {
            const categoryBtns = document.querySelectorAll('.faq-cat-btn');
            const faqItems = document.querySelectorAll('.faq-item');

            categoryBtns.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    try {
                        const category = this.getAttribute('data-category');

                        // Update active button
                        categoryBtns.forEach(function(b) {
                            b.classList.remove('bg-brand', 'dark:bg-brand-light', 'text-white');
                            b.classList.add('bg-bg-main', 'dark:bg-bg-dark-main', 'text-content-secondary', 'dark:text-content-dark-secondary', 'border', 'border-line', 'dark:border-line-dark');
                        });
                        this.classList.add('bg-brand', 'dark:bg-brand-light', 'text-white');
                        this.classList.remove('bg-bg-main', 'dark:bg-bg-dark-main', 'text-content-secondary', 'dark:text-content-dark-secondary', 'border', 'border-line', 'dark:border-line-dark');

                        // Filter items
                        faqItems.forEach(function(item) {
                            if (category === 'all' || item.getAttribute('data-category') === category) {
                                item.classList.remove('hidden');
                            } else {
                                item.classList.add('hidden');
                            }

                            // Close all answers when filtering
                            item.querySelector('.faq-answer').classList.add('hidden');
                            item.querySelector('.faq-icon').classList.remove('rotate-180');
                            item.classList.remove('border-brand/30', 'dark:border-brand-light/30');
                        });
                    } catch (error) {
                        console.error('FAQ filter error:', error);
                    }
                });
            });
        } catch (error) {
            console.error('FAQ category error:', error);
        }
    })();
</script>
{% endblock %}